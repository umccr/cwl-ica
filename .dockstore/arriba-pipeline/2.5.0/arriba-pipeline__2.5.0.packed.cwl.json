{
  "$graph": [
    {
      "class": "ExpressionTool",
      "id": "#create-directory__1.0.0.cwl",
      "label": "create-directory v(1.0.0)",
      "doc": "Documentation for create-directory v1.0.0\n",
      "requirements": [
        {
          "class": "InlineJavascriptRequirement"
        },
        {
          "loadListing": "deep_listing",
          "class": "LoadListingRequirement"
        }
      ],
      "inputs": [
        {
          "label": "input directories",
          "doc": "List of input directories to go into the output directory\n",
          "type": [
            "null",
            {
              "type": "array",
              "items": "Directory"
            }
          ],
          "id": "#create-directory__1.0.0.cwl/create-directory--1.0.0/input_directories"
        },
        {
          "label": "input files",
          "doc": "List of input files to go into the output directory\n",
          "type": [
            "null",
            {
              "type": "array",
              "items": "File"
            }
          ],
          "id": "#create-directory__1.0.0.cwl/create-directory--1.0.0/input_files"
        },
        {
          "label": "output directory name",
          "doc": "The name of the output directory\n",
          "type": "string",
          "id": "#create-directory__1.0.0.cwl/create-directory--1.0.0/output_directory_name"
        }
      ],
      "expression": "${\n  /*\n  Generate output listing\n  */\n\n  /* Initiate the listing */\n  var listing = [];\n\n  /* Add the input files */\n  if (inputs.input_files !== null) {\n    for (var i=0; i < inputs.input_files.length; i++) {\n      listing.push(inputs.input_files[i]);\n    }\n  }\n\n  /* Add the input directories */\n  if (inputs.input_directories !== null) {\n    for (var i=0; i < inputs.input_directories.length; i++) {\n      listing.push(inputs.input_directories[i]);\n    }\n  }\n\n  /* Add the output directory */\n  return {\n    \"output_directory\": {\n      \"class\": \"Directory\",\n      \"basename\": inputs.output_directory_name,\n      \"listing\": listing\n    }\n  };\n}\n",
      "https://schema.org/author": {
        "class": "https://schema.org/Person",
        "https://schema.org/name": "Alexis Lucattini",
        "https://schema.org/email": "Alexis.Lucattini@umccr.org",
        "https://schema.org/identifier": "https://orcid.org/0000-0001-9754-647X"
      },
      "outputs": [
        {
          "label": "output directory",
          "doc": "The output directory with all of the outputs collected\n",
          "type": "Directory",
          "id": "#create-directory__1.0.0.cwl/create-directory--1.0.0/output_directory"
        }
      ]
    },
    {
      "class": "CommandLineTool",
      "id": "#arriba-drawing__2.5.0.cwl",
      "label": "arriba-drawing v(2.5.0)",
      "doc": "Documentation for arriba-drawing v2.5.0\n",
      "hints": [
        {
          "dockerPull": "community.wave.seqera.io/library/arriba:2.5.0--2a8ebddcf37d7ec4",
          "class": "DockerRequirement"
        },
        {
          "coresMin": 8,
          "ramMin": 28000,
          "class": "ResourceRequirement",
          "https://platform.illumina.com/rdf/ica/resources:tier": "standard",
          "https://platform.illumina.com/rdf/ica/resources:type": "standard",
          "https://platform.illumina.com/rdf/ica/resources:size": "large"
        }
      ],
      "requirements": [
        {
          "class": "InlineJavascriptRequirement"
        },
        {
          "types": [
            {
              "type": "record",
              "name": "#bam-input__1.0.0.yaml/bam-input",
              "fields": [
                {
                  "type": "File",
                  "label": "bam-input",
                  "doc": "Bam input file",
                  "secondaryFiles": [
                    {
                      "pattern": ".bai",
                      "required": true
                    }
                  ],
                  "name": "#bam-input__1.0.0.yaml/bam-input/bam_input"
                }
              ]
            },
            {
              "type": "record",
              "name": "#cram-input__1.0.0.yaml/cram-input",
              "fields": [
                {
                  "type": "File",
                  "secondaryFiles": [
                    {
                      "pattern": ".crai",
                      "required": true
                    }
                  ],
                  "name": "#cram-input__1.0.0.yaml/cram-input/cram_input"
                },
                {
                  "type": [
                    "null",
                    "File"
                  ],
                  "doc": "Reference file, not always required, particularly if generated by the dragen pipeline,\nthen we can use the reference directory.\n",
                  "secondaryFiles": [
                    {
                      "pattern": ".fai",
                      "required": true
                    }
                  ],
                  "name": "#cram-input__1.0.0.yaml/cram-input/cram_reference"
                }
              ]
            }
          ],
          "class": "SchemaDefRequirement"
        }
      ],
      "baseCommand": [
        "draw_fusions.R"
      ],
      "inputs": [
        {
          "label": "alignment data",
          "doc": "File in SAM/BAM/CRAM format with main alignments as generated by STAR\n",
          "type": [
            "#bam-input__1.0.0.yaml/bam-input",
            "#cram-input__1.0.0.yaml/cram-input"
          ],
          "inputBinding": {
            "prefix": "--alignments=",
            "separate": false,
            "valueFrom": "${\n  if (self.bam_input) {\n    return self.bam_input.path\n  } else {\n    return self.cram_input.path\n  }\n}\n"
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/alignment_data"
        },
        {
          "label": "annotation",
          "doc": "Gene annotation in GTF format\n",
          "type": "File",
          "inputBinding": {
            "prefix": "--annotation=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/annotation_gtf"
        },
        {
          "label": "color 1",
          "doc": "color 1. Default #e5a5a5\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "--color1=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/color_1"
        },
        {
          "label": "color 2",
          "doc": "color 2. Default #a7c4e5\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "--color2=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/color_2"
        },
        {
          "label": "coverage range",
          "doc": "Coverage range. Default 0.\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--coverageRange=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/coverage_range"
        },
        {
          "label": "cytobands tsv",
          "doc": "Coordinates of the Giemsa staining bands. This information is used to draw ideograms\n",
          "type": "File",
          "inputBinding": {
            "prefix": "--cytobands=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/cytobands_tsv"
        },
        {
          "label": "fixed scale",
          "doc": "Fixed scale. Default 0.\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--fixedScale=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/fixed_scale"
        },
        {
          "label": "font family",
          "doc": "Font family. Default Helvetica.\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "--fontFamily=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/font_family"
        },
        {
          "label": "font size",
          "doc": "Font size. Default 1.\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--fontSize=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/font_size"
        },
        {
          "label": "fusions",
          "doc": "TSV File containing fusion predictions from Arriba\n",
          "type": "File",
          "inputBinding": {
            "prefix": "--fusions=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/fusions_tsv"
        },
        {
          "label": "merge domains overlapping",
          "doc": "Merge domains overlapping. Default 0.9\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--mergeDomainsOverlappingBy=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/merge_domains_overlapping_by"
        },
        {
          "label": "optimize domain colors",
          "doc": "Optimize domain colors. Default false.\n",
          "type": [
            "null",
            "boolean"
          ],
          "inputBinding": {
            "prefix": "--optimizeDomainColors=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/optimize_domain_colors"
        },
        {
          "label": "output_pdf_filename",
          "doc": "Output file in PDF format containing the visualizations of the gene fusions\n",
          "type": [
            "null",
            "string"
          ],
          "default": "fusions.pdf",
          "inputBinding": {
            "prefix": "--output=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/output_pdf_filename"
        },
        {
          "label": "pdf width",
          "doc": "PDF width. Default 11.692\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--pdfWidth=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/pdf_width"
        },
        {
          "label": "plot panels",
          "doc": "Plot panels. Default 1.\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "--plotPanels=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/plot_panels"
        },
        {
          "label": "print exon labels",
          "doc": "Print exon labels. Default true\n",
          "type": [
            "null",
            "boolean"
          ],
          "inputBinding": {
            "prefix": "--printExonLabels=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/print_exon_labels"
        },
        {
          "label": "protein domains",
          "doc": "GFF3 file containing the genomic coordinates of protein domains\n",
          "type": "File",
          "inputBinding": {
            "prefix": "--proteinDomains=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/protein_domains_gff3"
        },
        {
          "label": "render 3d effect",
          "doc": "Render 3d effect. Default true\n",
          "type": [
            "null",
            "boolean"
          ],
          "inputBinding": {
            "prefix": "--render3dEffect=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/render_3d_effect"
        },
        {
          "label": "sample name",
          "doc": "Sample name\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "--sampleName=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/sample_name"
        },
        {
          "label": "squish introns",
          "doc": "Squish introns. Default true\n",
          "type": [
            "null",
            "boolean"
          ],
          "inputBinding": {
            "prefix": "--squishIntrons=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/squish_introns"
        },
        {
          "label": "transcript selection",
          "doc": "Transcript selection. Default coverage\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "--transcriptSelection=",
            "separate": false
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/transcript_selection"
        }
      ],
      "outputs": [
        {
          "label": "output PDF",
          "doc": "Output pdf file with fusion drawing\n",
          "type": "File",
          "outputBinding": {
            "glob": "$(inputs.output_pdf_filename)"
          },
          "id": "#arriba-drawing__2.5.0.cwl/arriba-drawing--2.5.0/output_pdf"
        }
      ],
      "successCodes": [
        0
      ],
      "https://schema.org/author": {
        "class": "https://schema.org/Person",
        "https://schema.org/name": "Alexis Lucattini",
        "https://schema.org/email": "Alexis.Lucattini@umccr.org",
        "https://schema.org/identifier": "https://orcid.org/0000-0001-9754-647X"
      }
    },
    {
      "class": "CommandLineTool",
      "id": "#arriba-fusion-calling__2.5.0.cwl",
      "label": "arriba-fusion-calling v(2.5.0)",
      "doc": "Documentation for arriba-fusion-calling v2.5.0\n",
      "hints": [
        {
          "dockerPull": "community.wave.seqera.io/library/arriba:2.5.0--2a8ebddcf37d7ec4",
          "class": "DockerRequirement"
        },
        {
          "coresMin": 8,
          "ramMin": 28000,
          "class": "ResourceRequirement",
          "https://platform.illumina.com/rdf/ica/resources:tier": "standard",
          "https://platform.illumina.com/rdf/ica/resources:type": "standard",
          "https://platform.illumina.com/rdf/ica/resources:size": "large"
        }
      ],
      "requirements": [
        {
          "class": "InlineJavascriptRequirement"
        },
        {
          "types": [
            {
              "$import": "#bam-input__1.0.0.yaml/bam-input"
            },
            {
              "$import": "#cram-input__1.0.0.yaml/cram-input"
            }
          ],
          "class": "SchemaDefRequirement"
        }
      ],
      "baseCommand": [
        "arriba"
      ],
      "inputs": [
        {
          "label": "alignment data",
          "doc": "File in SAM/BAM/CRAM format with main alignments as generated by STAR\n",
          "type": [
            "#bam-input__1.0.0.yaml/bam-input",
            "#cram-input__1.0.0.yaml/cram-input"
          ],
          "inputBinding": {
            "prefix": "-x",
            "position": -1,
            "valueFrom": "${\n  if (self.bam_input) {\n    return self.bam_input.path\n  } else {\n    return self.cram_input.path\n  }\n}\n"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/alignment_data"
        },
        {
          "label": "annotation gtf",
          "doc": "GTF file with gene annotation. The file may be gzip-compressed\n",
          "type": "File",
          "inputBinding": {
            "prefix": "-g"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/annotation_gtf"
        },
        {
          "label": "bam without chimeric alignments",
          "doc": "File in SAM/BAM/CRAM format with chimeric alignments as generated by STAR\n(Chimeric.out.sam). This parameter is only required, if STAR was run with the\nparameter '--chimOutType SeparateSAMold'. When STAR was run with the parameter\n'--chimOutType WithinBAM', it suffices to pass the parameter -x to Arriba and -c\ncan be omitted.\n",
          "type": [
            "null",
            "File"
          ],
          "inputBinding": {
            "prefix": "-c"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/bam_without_chimeric_alignments"
        },
        {
          "label": "blacklist tsv",
          "doc": "File containing blacklisted ranges\n",
          "type": "File",
          "inputBinding": {
            "prefix": "-b"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/blacklist_tsv"
        },
        {
          "label": "contigs",
          "doc": "List of interesting contigs.\nFusions between genes on other contigs are ignored\nDefault is 1-22, X, Y, AC_* and NC_*\n",
          "type": [
            "null",
            {
              "type": "array",
              "items": "string"
            }
          ],
          "inputBinding": {
            "prefix": "-i",
            "valueFrom": "${\n  if (self && self.length > 0) {\n    return self.join(',');\n  } else {\n    return '';\n  }\n}\n"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/contigs"
        },
        {
          "label": "coordinates protein domains",
          "doc": "File in GFF3 format containing coordinates of the protein domains of genes. The\nprotein domains retained in a fusion are listed in the column\n'retained_protein_domains'. The file may be gzip-compressed.\n",
          "type": [
            "null",
            "File"
          ],
          "inputBinding": {
            "prefix": "-p"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/coordinates_protein_domains"
        },
        {
          "label": "coordinates structural variants",
          "doc": "Tab-separated file with coordinates of structural variants found using\nwhole-genome sequencing data. These coordinates serve to increase sensitivity\ntowards weakly expressed fusions and to eliminate fusions with low evidence.\n",
          "type": [
            "null",
            "File"
          ],
          "inputBinding": {
            "prefix": "-d"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/coordinates_structural_variants"
        },
        {
          "label": "covered fraction",
          "doc": "Ignore virally associated events if the virus is not fully\nexpressed, i.e., less than the given fraction of the viral contig is\ntranscribed. Default: 0.050000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-C"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/covered_fraction"
        },
        {
          "label": "discarded fusion",
          "doc": "Output file with fusions that were discarded due to filtering\n",
          "type": [
            "null",
            "string"
          ],
          "default": "fusions-discarded.tsv",
          "inputBinding": {
            "prefix": "-O"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/discarded_fusions_filename"
        },
        {
          "label": "exonic fraction",
          "doc": "The breakpoints of false-positive predictions of intragenic events\nare often both in exons. True predictions are more likely to have at\nleast one breakpoint in an intron, because introns are larger. If the\nfraction of exonic sequence between two breakpoints is smaller than\nthe given fraction, the 'intragenic_exonic' filter discards the\nevent. Default: 0.330000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-e"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/exonic_fraction"
        },
        {
          "label": "filters",
          "doc": "List of filters to disable. By default all filters are\nenabled. Valid values:\n  top_expressed_viral_contigs\n  viral_contigs,\n  low_coverage_viral_contigs\n  uninteresting_contigs,\n  no_genomic_support\n  short_anchor\n  select_best\n  many_spliced\n  long_gap,\n  marginal_read_through\n  merge_adjacent\n  hairpin\n  small_insert_size,\n  same_gene\n  mismappers\n  spliced\n  genomic_support\n  read_through,\n  no_coverage\n  mismatches\n  homopolymer\n  low_entropy\n  multimappers,\n  inconsistently_clipped\n  duplicates\n  homologs\n  blacklist,\n  relative_support\n  min_support\n  end_to_end\n  known_fusions,\n  non_coding_neighbors\n  isoforms\n  intronic\n  in_vitro\n  intragenic_exonic,\n  internal_tandem_duplication\n",
          "type": [
            "null",
            {
              "type": "array",
              "items": "string"
            }
          ],
          "inputBinding": {
            "prefix": "-f",
            "valueFrom": "${\n  if (self && self.length > 0) {\n    return self.join(',');\n  } else {\n    return '';\n  }\n}\n"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/filters"
        },
        {
          "label": "fragment length",
          "doc": "When paired-end data is given, the fragment length is estimated\nautomatically and this parameter has no effect. But when single-end\ndata is given, the mean fragment length should be specified to\neffectively filter fusions that arise from hairpin structures.\nDefault: 200\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-F"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/fragment_length"
        },
        {
          "label": "fusion",
          "doc": "Output file with fusions that have passed all filters\n",
          "type": [
            "null",
            "string"
          ],
          "default": "fusions.tsv",
          "inputBinding": {
            "prefix": "-o"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/fusions_filename"
        },
        {
          "label": "genomic breakpoint",
          "doc": "When a file with genomic breakpoints obtained via whole-genome sequencing is supplied via the -d\nparameter, this parameter determines how far a genomic breakpoint may be away from a\ntranscriptomic breakpoint to consider it as a related event. For events inside genes, the\ndistance is added to the end of the gene; for intergenic events, the distance threshold is\napplied as is. Default: 100000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-D"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/genomic_breakpoint"
        },
        {
          "label": "GTF features",
          "doc": "List of names of GTF features.\nDefault:\n  - gene_name=gene_name|gene_id\n  - gene_id=gene_id\n  - transcript_id=transcript_id\n  - feature_exon=exon\n  - feature_CDS=CDS\n",
          "type": [
            "null",
            {
              "type": "array",
              "items": "string"
            }
          ],
          "inputBinding": {
            "prefix": "-G",
            "valueFrom": "${\n  if (self && self.length > 0) {\n    return self.join(',');\n  } else {\n    return '';\n  }\n}\n"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/gtf_features"
        },
        {
          "label": "homopolymer length",
          "doc": "The 'homopolymer' filter removes breakpoints adjacent to\nhomopolymers of the given length or more. Default: 6\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-H"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/homopolymer_length"
        },
        {
          "label": "known fusions",
          "doc": "File containing known/recurrent fusions. Some cancer entities are often\ncharacterized by fusions between the same pair of genes. In order to boost\nsensitivity, a list of known fusions can be supplied using this parameter. The list\nmust contain two columns with the names of the fused genes, separated by tabs.\n",
          "type": [
            "null",
            "File"
          ],
          "inputBinding": {
            "prefix": "-k"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/known_fusions"
        },
        {
          "label": "many spliced events",
          "doc": "The 'many_spliced' filter recovers fusions between genes that\nhave at least this many spliced breakpoints. Default: 4\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-M"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/many_spliced_events"
        },
        {
          "label": "max e value",
          "doc": "Arriba estimates the number of fusions with a given number of supporting\nreads which one would expect to see by random chance. If the expected number\nof fusions (e-value) is higher than this threshold, the fusion is\ndiscarded by the 'relative_support' filter. Note: Increasing this\nthreshold can dramatically increase the number of false positives and may\nincrease the runtime of resource-intensive steps. Fractional values are\npossible. Default: 0.300000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-E"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_e_value"
        },
        {
          "label": "max homolog identity",
          "doc": "Genes with more than the given fraction of sequence identity are\nconsidered homologs and removed by the 'homologs' filter.\nDefault: 0.300000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-L"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_homolog_identity"
        },
        {
          "label": "max itd length",
          "doc": "Maximum length of internal tandem duplications. Note: Increasing\nthis value beyond the default can impair performance and lead to many\nfalse positives. Default: 100\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-l"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_itd_length"
        },
        {
          "label": "max kmer content",
          "doc": "The 'low_entropy' filter removes reads with repetitive 3-mers. If\nthe 3-mers make up more than the given fraction of the sequence, then\nthe read is discarded. Default: 0.600000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-K"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_kmer_content"
        },
        {
          "label": "max mismappers",
          "doc": "When more than this fraction of supporting reads turns out to be\nmismappers, the 'mismappers' filter discards the fusion. Default:\n0.800000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-m"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_mismappers"
        },
        {
          "label": "max mismatch pvalue",
          "doc": "The 'mismatches' filter uses a binomial model to calculate a\np-value for observing a given number of mismatches in a read. If\nthe number of mismatches is too high, the read is discarded.\nDefault: 0.010000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-V"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_mismatch_pvalue"
        },
        {
          "label": "max reads",
          "doc": "Subsample fusions with more than the given number of supporting reads. This\nimproves performance without compromising sensitivity, as long as the\nthreshold is high. Counting of supporting reads beyond the threshold is\ninaccurate, obviously. Default: 300\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-U"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/max_reads"
        },
        {
          "label": "min anchor length",
          "doc": "Alignment artifacts are often characterized by split reads coming\nfrom only one gene and no discordant mates. Moreover, the split\nreads only align to a short stretch in one of the genes. The\n'short_anchor' filter removes these fusions. This parameter sets\nthe threshold in bp for what the filter considers short. Default: 23\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-A"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/min_anchor_length"
        },
        {
          "label": "min itd allele fraction",
          "doc": "Required fraction of supporting reads to report an internal\ntandem duplication. Default: 0.070000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-z"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/min_itd_allele_fraction"
        },
        {
          "label": "min itd supporting reads",
          "doc": "Required absolute number of supporting reads to report an\ninternal tandem duplication. Default: 10\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-Z"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/min_itd_supporting_reads"
        },
        {
          "label": "min supporting reads",
          "doc": "The 'min_support' filter discards all fusions with fewer than\nthis many supporting reads (split reads and discordant mates\ncombined). Default: 2\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-S"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/min_supporting_reads"
        },
        {
          "label": "quantile",
          "doc": "Highly expressed genes are prone to produce artifacts during library\npreparation. Genes with an expression above the given quantile are eligible\nfor filtering by the 'in_vitro' filter. Default: 0.998000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-Q"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/quantile"
        },
        {
          "label": "read through distance",
          "doc": "The 'read_through' filter removes read-through fusions\nwhere the breakpoints are less than the given distance away\nfrom each other. Default: 10000\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-R"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/read_through_distance"
        },
        {
          "label": "reference fasta",
          "doc": "FastA file with genome sequence (assembly). The file may be gzip-compressed\n",
          "type": "File",
          "inputBinding": {
            "prefix": "-a"
          },
          "secondaryFiles": [
            {
              "pattern": ".fai",
              "required": false
            }
          ],
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/reference_fasta"
        },
        {
          "label": "strandedness",
          "doc": "Whether a strand-specific protocol was used for library preparation,\nand if so, the type of strandedness (auto/yes/no/reverse). When\nunstranded data is processed, the strand can sometimes be inferred from\nsplice-patterns. But in unclear situations, stranded data helps\nresolve ambiguities. Default: auto\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "-s"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/strandedness"
        },
        {
          "label": "tags",
          "doc": "Tab-separated file containing fusions to annotate with tags in the 'tags' column.\nThe first two columns specify the genes; the third column specifies the tag. The\nfile may be gzip-compressed.\n",
          "type": [
            "null",
            "File"
          ],
          "inputBinding": {
            "prefix": "-t"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/tags"
        },
        {
          "label": "threads",
          "doc": "Number of threads to use for BAM/CRAM file reading.\nNote that in most situations 1 thread is optimal.\nValues >2 almost never show further speedup.\n",
          "type": [
            "null",
            "int"
          ],
          "default": 2,
          "inputBinding": {
            "prefix": "-@"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/threads"
        },
        {
          "label": "top N",
          "doc": "Only report viral integration sites of the top N most highly expressed viral\ncontigs. Default: 5\n",
          "type": [
            "null",
            "int"
          ],
          "inputBinding": {
            "prefix": "-T"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/top_n"
        },
        {
          "label": "viral contigs",
          "doc": "Comma-/space-separated list of viral contigs. Asterisks (*) are treated as\nwild-cards.\nDefault: AC_* NC_*\n",
          "type": [
            "null",
            "string"
          ],
          "inputBinding": {
            "prefix": "-v"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/viral_contigs"
        }
      ],
      "outputs": [
        {
          "label": "discarded fusions",
          "doc": "file with discarded fusions\n",
          "type": "File",
          "outputBinding": {
            "glob": "$(inputs.discarded_fusions_filename)"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/discarded_fusions"
        },
        {
          "label": "fusions",
          "doc": "file with output fusions\n",
          "type": "File",
          "outputBinding": {
            "glob": "$(inputs.fusions_filename)"
          },
          "id": "#arriba-fusion-calling__2.5.0.cwl/arriba-fusion-calling--2.5.0/fusions"
        }
      ],
      "successCodes": [
        0
      ],
      "https://schema.org/author": {
        "class": "https://schema.org/Person",
        "https://schema.org/name": "Alexis Lucattini",
        "https://schema.org/email": "Alexis.Lucattini@umccr.org",
        "https://schema.org/identifier": "https://orcid.org/0000-0001-9754-647X"
      }
    },
    {
      "class": "Workflow",
      "id": "#main",
      "label": "arriba-pipeline v(2.5.0)",
      "doc": "Arriba fusion calling and drawing pipeline (v 2.5.0)\n",
      "requirements": [
        {
          "class": "InlineJavascriptRequirement"
        },
        {
          "class": "MultipleInputFeatureRequirement"
        },
        {
          "class": "ScatterFeatureRequirement"
        },
        {
          "types": [
            {
              "$import": "#bam-input__1.0.0.yaml/bam-input"
            },
            {
              "$import": "#cram-input__1.0.0.yaml/cram-input"
            }
          ],
          "class": "SchemaDefRequirement"
        },
        {
          "class": "StepInputExpressionRequirement"
        }
      ],
      "inputs": [
        {
          "label": "Alignment Data",
          "doc": "BAM / CRAM file with aligned reads.\n",
          "type": [
            "#bam-input__1.0.0.yaml/bam-input",
            "#cram-input__1.0.0.yaml/cram-input"
          ],
          "id": "#main/alignment_data"
        },
        {
          "label": "annotation gtf",
          "type": "File",
          "doc": "GTF file with gene annotation. The file may be gzip-compressed\n",
          "id": "#main/annotation_gtf"
        },
        {
          "label": "blacklist tsv",
          "type": "File",
          "doc": "File with blacklist range\n",
          "id": "#main/blacklist_tsv"
        },
        {
          "label": "contigs",
          "type": [
            "null",
            {
              "type": "array",
              "items": "string"
            }
          ],
          "doc": "Optional - List of interesting contigs\nIf not specified, defaults to 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,X,Y\n",
          "id": "#main/contigs"
        },
        {
          "label": "cytobands",
          "type": "File",
          "doc": "Coordinates of the Giemsa staining bands.\n",
          "id": "#main/cytobands_tsv"
        },
        {
          "label": "protein domains gff3",
          "type": "File",
          "doc": "GFF3 file containing the genomic coordinates of protein domains.\n",
          "id": "#main/protein_domains_gff3"
        },
        {
          "label": "reference Fasta",
          "type": "File",
          "doc": "FastA file with genome sequence\n",
          "secondaryFiles": [
            {
              "pattern": ".fai",
              "required": true
            }
          ],
          "id": "#main/reference_fasta"
        },
        {
          "label": "Sample name",
          "type": "string",
          "doc": "Used for naming the output files.\n",
          "id": "#main/sample_name"
        }
      ],
      "steps": [
        {
          "label": "Arriba drawing step",
          "doc": "Run the arriba drawing tool to create a PDF with the fusion visualisation\n",
          "in": [
            {
              "source": "#main/alignment_data",
              "id": "#main/arriba_drawing_step/alignment_data"
            },
            {
              "source": "#main/annotation_gtf",
              "id": "#main/arriba_drawing_step/annotation_gtf"
            },
            {
              "source": "#main/cytobands_tsv",
              "id": "#main/arriba_drawing_step/cytobands_tsv"
            },
            {
              "source": "#main/arriba_fusion_calling_step/fusions",
              "id": "#main/arriba_drawing_step/fusions_tsv"
            },
            {
              "source": "#main/sample_name",
              "valueFrom": "$(self)_fusions.pdf",
              "id": "#main/arriba_drawing_step/output_pdf_filename"
            },
            {
              "source": "#main/protein_domains_gff3",
              "id": "#main/arriba_drawing_step/protein_domains_gff3"
            }
          ],
          "out": [
            {
              "id": "#main/arriba_drawing_step/output_pdf"
            }
          ],
          "run": "#arriba-drawing__2.5.0.cwl",
          "id": "#main/arriba_drawing_step"
        },
        {
          "label": "Arriba fusion calling step",
          "doc": "The arriba fusion calling step\n",
          "in": [
            {
              "source": "#main/alignment_data",
              "id": "#main/arriba_fusion_calling_step/alignment_data"
            },
            {
              "source": "#main/annotation_gtf",
              "id": "#main/arriba_fusion_calling_step/annotation_gtf"
            },
            {
              "source": "#main/blacklist_tsv",
              "id": "#main/arriba_fusion_calling_step/blacklist_tsv"
            },
            {
              "source": "#main/contigs",
              "id": "#main/arriba_fusion_calling_step/contigs"
            },
            {
              "source": "#main/sample_name",
              "valueFrom": "$(self)_discarded_fusions.tsv",
              "id": "#main/arriba_fusion_calling_step/discarded_fusions_filename"
            },
            {
              "source": "#main/sample_name",
              "valueFrom": "$(self)_fusions.tsv",
              "id": "#main/arriba_fusion_calling_step/fusions_filename"
            },
            {
              "source": "#main/reference_fasta",
              "id": "#main/arriba_fusion_calling_step/reference_fasta"
            }
          ],
          "out": [
            {
              "id": "#main/arriba_fusion_calling_step/fusions"
            },
            {
              "id": "#main/arriba_fusion_calling_step/discarded_fusions"
            }
          ],
          "run": "#arriba-fusion-calling__2.5.0.cwl",
          "id": "#main/arriba_fusion_calling_step"
        },
        {
          "label": "create arriba output directory",
          "doc": "Create an output directory to contain the arriba files\n",
          "in": [
            {
              "source": [
                "#main/arriba_fusion_calling_step/fusions",
                "#main/arriba_fusion_calling_step/discarded_fusions",
                "#main/arriba_drawing_step/output_pdf"
              ],
              "id": "#main/create_arriba_output_directory_step/input_files"
            },
            {
              "source": "#main/sample_name",
              "valueFrom": "$(self)_arriba",
              "id": "#main/create_arriba_output_directory_step/output_directory_name"
            }
          ],
          "out": [
            "#main/create_arriba_output_directory_step/output_directory"
          ],
          "run": "#create-directory__1.0.0.cwl",
          "id": "#main/create_arriba_output_directory_step"
        }
      ],
      "outputs": [
        {
          "label": "Arriba output directory",
          "type": "Directory",
          "doc": "Output directory containing the arriba files.\n",
          "outputSource": "#main/create_arriba_output_directory_step/output_directory",
          "id": "#main/output_directory"
        }
      ],
      "https://schema.org/author": {
        "class": "https://schema.org/Person",
        "https://schema.org/name": "Alexis Lucattini",
        "https://schema.org/email": "Alexis.Lucattini@umccr.org",
        "https://schema.org/identifier": "https://orcid.org/0000-0001-9754-647X"
      }
    }
  ],
  "cwlVersion": "v1.1",
  "$schemas": [
    "https://schema.org/version/latest/schemaorg-current-http.rdf"
  ],
  "$namespaces": {
    "s": "https://schema.org/"
  }
}